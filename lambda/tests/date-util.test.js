const dateUtil = require('../date-util.js')

describe.each([
    ['2023-01-27 00:00:00', '金'],
    ['2023-01-27 23:59:59', '金'],
    ['2023-01-28 00:00:00', '土'],
    ['2023-01-29 00:00:00', '日'],
    ['2023-01-30 00:00:00', '月'],
    ['2023-01-31 00:00:00', '火'],
    ['2023-02-01 00:00:00', '水'],
    ['2023-02-02 00:00:00', '木'],
])('日付に対応する曜日を返す', (dateString, expected) => {
    test(`${dateString} は ${expected}曜日`, () => {
        expect(dateUtil.getDayName(new Date(dateString))).toBe(expected)
    })
})

describe.each([
    ['2023-01-27 00:00:00', '2023-01-27 23:00:00', '今日'],
    ['2023-01-27 23:00:00', '2023-01-27 01:00:00', '今日'],
    ['2023-01-27 01:00:00', '2023-01-26 23:00:00', '昨日'],
    ['2023-01-27 23:00:00', '2023-01-26 01:00:00', '昨日'],
    ['2023-01-27 23:00:00', '2023-01-28 01:00:00', '明日'],
    ['2023-01-27 01:00:00', '2023-01-28 23:00:00', '明日'],
    ['2023-01-27 23:00:00', '2023-01-29 01:00:00', '明後日'],
    ['2023-01-27 01:00:00', '2023-01-29 23:00:00', '明後日'],
    ['2023-01-27 12:00:00', '2023-01-30 12:00:00', '30日'],
    ['2023-01-27 12:00:00', '2023-01-25 12:00:00', '25日'],
])('相対的な日付を返す', (now, target, expected) => {
    test(`${now}のとき${target}は${expected}`, () => {
        expect(dateUtil.getRelativeDayName(new Date(target), new Date(now))).toBe(expected)
    })
})